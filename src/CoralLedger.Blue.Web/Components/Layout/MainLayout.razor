@inherits LayoutComponentBase

@using CoralLedger.Blue.Web.Components.Shared
@using CoralLedger.Blue.Web.Client.Components

@inject IStringLocalizer<SharedResources> Localizer

<CoralLedger.Blue.Web.Client.Components.OfflineIndicator />

<a class="skip-link" href="#main-content">Skip to main content</a>

<RadzenLayout>
    <RadzenSidebar @bind-Expanded="@_sidebarExpanded" class="rz-sidebar-dark">
        <RadzenSidebarToggle Click="@(() => _sidebarExpanded = !_sidebarExpanded)" />
        <RadzenPanelMenu>
            <RadzenPanelMenuItem Text="@Localizer["Nav_Dashboard"]" Icon="dashboard" Path="dashboard" />
            <RadzenPanelMenuItem Text="@Localizer["Nav_Map"]" Icon="map" Path="map" />
            <RadzenPanelMenuItem Text="@Localizer["Nav_Bleaching"]" Icon="thermostat" Path="bleaching" />
            <RadzenPanelMenuItem Text="@Localizer["Nav_Settings"]" Icon="settings" Path="settings" />
        </RadzenPanelMenu>
    </RadzenSidebar>

    <RadzenBody>
        <RadzenHeader>
            <HeaderBar />
        </RadzenHeader>

        <main id="main-content" class="rz-p-4">
            @Body
        </main>
    </RadzenBody>
</RadzenLayout>

<MobileNavigationServer />

<div id="blazor-error-ui" role="alert" aria-live="assertive">
    <span>An unhandled error has occurred.</span>
    <a href="" class="reload" aria-label="Reload the page">Reload</a>
    <button type="button" class="dismiss" aria-label="Dismiss error message">
        <span aria-hidden="true">&#x2715;</span>
    </button>
</div>

@code {
    private bool _sidebarExpanded = true;
}
